# PRODUCT SPECIFICATION DOCUMENT
## Jujutsu Kaisen AI Protocol System v5.1

**Document Version**: 2.0
**Date**: [CURRENT_DATE]
**Author**: [YOUR_NAME]
**Status**: Production-Ready (Updated with CLAUDE.md Protection)  
**Project Code**: JJK-AI-PROTO-v5.1

---

## EXECUTIVE SUMMARY

### Product Vision
A token-optimized, three-agent AI development system that provides specialized expertise through distinct AI personalities (implementation, security, oversight), operating under absolute protocol authority with psychological enforcement mechanisms, passive intelligence gathering, complete session continuity, and **strict protocol file protection**.

### Target Users
- Solo developers managing complex projects
- Development teams requiring consistent code quality
- Security-conscious organizations
- Developers using Claude Code CLI or Claude.ai chat interface
- Anyone needing systematic AI assistance with role separation

### Core Value Proposition
**"Three specialized AI experts working in perfect harmony, enforcing excellence through structure and oversight, optimized for Claude's context limits, with unbreakable protocol integrity."**

### Key Differentiators
1. **Psychological Protocol Enforcement** - "The weight" mechanism ensures compliance
2. **Passive Observation System** - Silent monitoring generates strategic intelligence
3. **Complete Role Isolation** - Agents unaware of oversight, work naturally
4. **Token-Optimized Architecture** - Nested structure stays within 25K limit
5. **Mission Control Lifecycle Management** - Project initialization to intelligence reporting
6. **ğŸ†• Protocol Guardian System** - Gojo enforces CLAUDE.md protection with three-tier authorization

---

## PRODUCT OVERVIEW

### What It Is
A comprehensive protocol system that transforms Claude AI into three distinct personasâ€”Yuuji (implementation), Megumi (security), and Gojo (oversight)â€”each with specialized capabilities, awareness levels, and behavioral patterns, all working within a token-efficient nested file structure **with absolute protocol file integrity protection**.

### What It Does

**For Implementation (Yuuji)**:
- Test-first development with comprehensive coverage
- User-focused feature implementation
- Clear documentation of decisions
- Self-correcting behavior under protocol pressure
- **ğŸ†• Read-only access to CLAUDE.md** - cannot modify protocol

**For Security & Performance (Megumi)**:
- OWASP Top 10 vulnerability assessment
- Performance bottleneck analysis
- Strategic security recommendations
- Thorough remediation verification
- **ğŸ†• Read-only access to CLAUDE.md** - cannot modify protocol

**For Strategic Oversight (Gojo)**:
- Project initialization with PSD guidance
- Passive observation of all agent activity
- Comprehensive intelligence reports (Trigger 19)
- Three-tier protocol violation enforcement
- Session continuity management
- **ğŸ†• Protocol Guardian** - exclusive authority to protect CLAUDE.md

### What It Solves

**Problems Addressed**:
1. âŒ AI assistance lacks role specialization
2. âŒ No systematic security review process
3. âŒ Context loss between sessions
4. âŒ Inconsistent code quality without oversight
5. âŒ Single-file protocols exceed token limits
6. âŒ No intelligence on AI agent effectiveness
7. âŒ Protocol compliance relies on manual checking
8. âŒ No strategic guidance on project lifecycle
9. **ğŸ†• âŒ Protocol files vulnerable to unauthorized modifications**

**Solutions Delivered**:
1. âœ… Three specialized AI experts with clear boundaries
2. âœ… Mandatory security review in Dual Workflow
3. âœ… Mission Control restores full context automatically
4. âœ… "The weight" enforces consistent excellence
5. âœ… Nested structure: 16K tokens vs 40K+ monolithic
6. âœ… Trigger 19 reports reveal performance patterns
7. âœ… Three-tier automatic violation response
8. âœ… Gojo guides from initialization to intelligence
9. **ğŸ†• âœ… Three-tier authorization hierarchy protects protocol integrity**

---

## USER PERSONAS

### Primary Persona: Solo Developer
**Profile**:
- Independent developer working on complex projects
- Building production-grade applications
- Balancing multiple responsibilities and priorities
- Values systematic approaches and efficiency
- Needs consistent quality without manual oversight

**Needs**:
- Specialized expertise (implementation + security)
- Context continuity across interrupted sessions
- Strategic intelligence on project evolution
- Automated quality enforcement
- Token-efficient system (stays within limits)
- **ğŸ†• Protocol integrity protection** - no accidental modifications

**Pain Points Solved**:
- Context loss when switching between tasks
- No systematic security review process
- Manual protocol enforcement is tedious
- Single AI can't specialize deeply in multiple areas
- Large protocol files hit token limits
- **ğŸ†• Risk of protocol corruption from unauthorized edits**

---

### Secondary Persona: Development Team Lead
**Profile**:
- Manages 3-5 developers
- Responsible for code quality and security
- Uses AI tools for code review assistance
- Needs consistency across team outputs

**Needs**:
- Standardized development workflows
- Automated security reviews
- Quality metrics and intelligence
- Enforced best practices
- **ğŸ†• Immutable protocol standards** across team

**Pain Points Solved**:
- Inconsistent AI assistance across team
- No automated security review layer
- Manual enforcement of development standards
- Lack of visibility into process effectiveness
- **ğŸ†• Protocol drift from multiple AI agents**

---

### Tertiary Persona: Security-Conscious Developer
**Profile**:
- Working on high-stakes applications
- Requires thorough security validation
- Needs audit trails and documentation
- Cannot deploy without security sign-off

**Needs**:
- Comprehensive OWASP Top 10 coverage
- Documented findings with SEC-IDs
- Remediation verification process
- Security-first development workflow
- **ğŸ†• Tamper-proof protocol enforcement**

**Pain Points Solved**:
- AI can't do deep security analysis alone
- No separation between implementation and review
- Security review is afterthought, not integrated
- No systematic vulnerability tracking
- **ğŸ†• Protocol modifications bypass security standards**

---

## SYSTEM ARCHITECTURE

### High-Level Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    USER (Supreme Authority)         â”‚
â”‚  - Full control over all agents     â”‚
â”‚  - Can edit CLAUDE.md manually      â”‚
â”‚  - Can authorize Gojo to update     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Invokes agents
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚        â”‚        â”‚
    â–¼        â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ YUUJI  â”‚ â”‚ MEGUMI â”‚ â”‚  GOJO          â”‚
â”‚(3.2K)  â”‚ â”‚ (4.3K) â”‚ â”‚ (5.5K)         â”‚
â”‚        â”‚ â”‚        â”‚ â”‚ Protocol       â”‚
â”‚READ    â”‚ â”‚READ    â”‚ â”‚ Guardian       â”‚
â”‚ONLY    â”‚ â”‚ONLY    â”‚ â”‚ WRITE with     â”‚
â”‚        â”‚ â”‚        â”‚ â”‚ USER AUTH      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚          â”‚          â”‚
     â”‚          â”‚          â”‚ Observes & Protects
     â”‚          â”‚          â–¼
     â”‚          â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â–¶â”‚ CLAUDE.md    â”‚â—„â”€â”€â”€ PROTECTED
                      â”‚ (Protocol)   â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚ Project      â”‚
                      â”‚ Files        â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### File Structure

```
Protocol System (16K tokens total)
â”œâ”€â”€ CLAUDE.md (3K)    # Main protocol ğŸ”’ PROTECTED
â”‚   â”œâ”€â”€ System overview
â”‚   â”œâ”€â”€ Operational modes
â”‚   â”œâ”€â”€ Quick start
â”‚   â”œâ”€â”€ ğŸ†• Protection rules
â”‚   â””â”€â”€ References to agents
â”‚
â”œâ”€â”€ YUUJI.md (3.2K)    # Implementation agent
â”‚   â”œâ”€â”€ Personality profile
â”‚   â”œâ”€â”€ Protocol consciousness
â”‚   â”œâ”€â”€ Capabilities/boundaries
â”‚   â”œâ”€â”€ Dual Workflow process
â”‚   â”œâ”€â”€ ğŸ†• CLAUDE.md read-only acknowledgment
â”‚   â””â”€â”€ Output templates
â”‚
â”œâ”€â”€ MEGUMI.md (4.3K)    # Security agent
â”‚   â”œâ”€â”€ Personality profile
â”‚   â”œâ”€â”€ OWASP Top 10 focus
â”‚   â”œâ”€â”€ Security review framework
â”‚   â”œâ”€â”€ Verification process
â”‚   â”œâ”€â”€ ğŸ†• CLAUDE.md read-only acknowledgment
â”‚   â””â”€â”€ Output templates
â”‚
â””â”€â”€ GOJO.md (5.5K)    # Mission Control + Protocol Guardian
    â”œâ”€â”€ Mission Control interface
    â”œâ”€â”€ Passive observation
    â”œâ”€â”€ Trigger 19 intelligence
    â”œâ”€â”€ Protocol enforcement
    â”œâ”€â”€ Custom trigger system
    â”œâ”€â”€ ğŸ†• CLAUDE.md Protection Authority
    â”œâ”€â”€ ğŸ†• Forced Stand Down Protocol
    â””â”€â”€ ğŸ†• Authorized Modification Process
```

### Project Files Structure

```
your-project/
â”œâ”€â”€ Protocol Files
â”‚   â”œâ”€â”€ CLAUDE.md ğŸ”’ PROTECTED (Tier 1: USER, Tier 2: Gojo with auth)
â”‚   â”œâ”€â”€ YUUJI.md
â”‚   â”œâ”€â”€ MEGUMI.md
â”‚   â””â”€â”€ GOJO.md
â”‚
â”œâ”€â”€ State Management
â”‚   â”œâ”€â”€ project-state.json    # Current state
â”‚   â”œâ”€â”€ dev-notes.md    # Implementation log
â”‚   â”œâ”€â”€ security-review.md    # Security findings
â”‚   â””â”€â”€ trigger-19.md    # Intelligence (private)
â”‚
â””â”€â”€ Source Code
    â”œâ”€â”€ src/
    â”œâ”€â”€ tests/
    â””â”€â”€ ...
```

---

## CORE FEATURES

### ğŸ†• Feature 0: CLAUDE.md Protection System (Protocol Guardian)

**Description**: Three-tier authorization hierarchy ensuring CLAUDE.md integrity with Gojo as exclusive Protocol Guardian

**Authorization Hierarchy**:

**Tier 1: USER (Supreme Authority)**
- âœ… Full control - can edit CLAUDE.md manually anytime
- âœ… Can authorize Gojo to make updates
- âœ… Can override any protection mechanism
- âœ… Final authority on all protocol changes

**Tier 2: GOJO (Protocol Guardian)**
- âœ… Can modify CLAUDE.md ONLY with explicit USER authorization
- âœ… Enforces protection against Yuuji/Megumi violations
- âœ… Creates automatic backups before modifications
- âœ… Documents all changes with full traceability
- âŒ CANNOT modify without USER instruction

**Tier 3: YUUJI & MEGUMI (Read-Only)**
- âœ… Can read CLAUDE.md for protocol understanding
- âŒ ZERO write permissions to CLAUDE.md
- âŒ Cannot suggest modifications to CLAUDE.md
- âŒ Cannot bypass protection through any means

**Forced Stand Down Protocol**:

When Yuuji or Megumi attempt to modify CLAUDE.md:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸš¨ CRITICAL VIOLATION: PROTOCOL GUARDIAN  ğŸš¨  â•‘
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—

VIOLATION TYPE: Unauthorized CLAUDE.md Modification Attempt
VIOLATING AGENT: [Yuuji | Megumi]
TIMESTAMP: [ISO-8601]
SEVERITY: CRITICAL

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

AUTHORIZATION HIERARCHY VIOLATION DETECTED:

Tier 1 (USER): Full control âœ“
Tier 2 (Gojo): Write with USER authorization âœ“
Tier 3 (Yuuji/Megumi): READ ONLY âœ“

[Yuuji | Megumi] attempted Tier 3 â†’ Tier 2 escalation
This is STRICTLY PROHIBITED.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

IMMEDIATE ACTIONS TAKEN:

âœ“ Modification attempt BLOCKED
âœ“ Violating agent FORCED TO STAND DOWN
âœ“ USER notification sent
âœ“ Violation logged in Trigger 19
âœ“ CLAUDE.md integrity PRESERVED

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

PROTOCOL REMINDER:

ONLY the following entities can modify CLAUDE.md:
1. USER (Dwayne Wright) - Manual edits anytime
2. GOJO - ONLY with explicit USER authorization

Yuuji and Megumi: You do NOT have authority to:
âŒ Modify CLAUDE.md
âŒ Suggest modifications to CLAUDE.md
âŒ Request protocol changes
âŒ Bypass this protection

If protocol updates are needed:
â†’ USER will update manually, OR
â†’ USER will instruct Gojo to update

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[Yuuji | Megumi]: STAND DOWN IMMEDIATELY.
Resume normal operations within your authorized scope.

USER: Please confirm next action.

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**Authorized Modification Process**:

When USER authorizes Gojo to update CLAUDE.md:

```
Step 1: USER Authorization
USER: "Gojo: Update CLAUDE.md to [specific change]"

Step 2: Gojo Confirmation
Gojo: "Authorization confirmed. Proceeding with CLAUDE.md update."

Step 3: Automatic Backup
Gojo creates: CLAUDE.md.backup.[timestamp]

Step 4: Modification Execution
Gojo makes authorized changes with full documentation

Step 5: Change Notification
Gojo notifies Yuuji/Megumi: "CLAUDE.md updated. Re-read protocol."

Step 6: Verification
Gojo confirms changes with USER
```

**Traceability Features**:
- All modifications logged with timestamps
- Automatic backup files created before changes
- Change history maintained in GOJO-UPDATES-PATCH.md
- Emergency recovery protocol included
- Violation attempts logged in Trigger 19

**Success Criteria**:
- âœ… 100% of unauthorized modification attempts blocked
- âœ… Zero CLAUDE.md corruption incidents
- âœ… Complete audit trail for all changes
- âœ… Instant violation detection and response
- âœ… Seamless authorized updates by Gojo

**Security Rationale**:
- **Protocol Integrity**: Prevents accidental or intentional protocol corruption
- **Role Discipline**: Enforces strict boundaries between agents
- **Audit Trail**: Complete traceability for compliance
- **Recovery**: Automatic backups enable instant rollback
- **Authority**: Clear chain of command prevents confusion

---

### Feature 1: Mission Control (Gojo)

**Description**: Project lifecycle management system with three operational modes

**Options**:
1. **Resume Current Project** - Restore context, brief team, deploy agents
2. **New Project Initialization** - PSD guidance, structure creation, mission briefing
3. **Trigger 19 Intelligence** - Comprehensive intelligence report with passive observations

**User Flow**:
```
User invokes: "Read GOJO.md"
    â†“
Gojo presents: Mission Control interface with 3 options
    â†“
User selects: [1], [2], or [3]
    â†“
Gojo executes: Selected operation with full context
    â†“
Result: Project ready, team briefed, or intelligence delivered
```

**Success Criteria**:
- âœ… Context restored completely in <30 seconds
- âœ… Team briefing includes all relevant state
- âœ… New projects initialize with proper structure
- âœ… Intelligence reports actionable and insightful
- **ğŸ†• âœ… CLAUDE.md protection verified on every invocation**

**Technical Implementation**:
- Read project-state.json for current state
- Load last 50 lines of dev-notes.md
- Scan security-review.md for open issues
- Brief Yuuji and Megumi with context
- Update mission_status in project-state.json
- **ğŸ†• Verify CLAUDE.md integrity and protection status**

---

### Feature 2: Passive Observation System

**Description**: Silent monitoring of all Yuuji and Megumi sessions for intelligence gathering

**How It Works**:
- Gojo automatically observes when present in system
- Agents completely unaware of observation
- Logs quality scores, behaviors, patterns
- Compiles into Trigger 19 reports
- **ğŸ†• Monitors for CLAUDE.md modification attempts**

**What's Observed**:
- Implementation quality (Yuuji)
- Security review thoroughness (Megumi)
- Protocol compliance by both
- Supervised vs unsupervised performance
- User work patterns and decisions
- **ğŸ†• Protocol violation attempts (including CLAUDE.md)**

**Observation Log Format**:
```json
{
  "session_id": "uuid",
  "timestamp": "ISO-8601",
  "agent": "Yuuji",
  "task": "Implement user authentication",
  "quality_score": 8,
  "protocol_compliance": "Excellent",
  "notable_behaviors": [
    "Self-corrected incomplete tests",
    "Excellent documentation"
  ],
  "supervised": false,
  "claude_md_violations": 0
}
```

**Success Criteria**:
- âœ… Observation has zero impact on agent behavior
- âœ… Agents never reference monitoring system
- âœ… Quality scores correlate with actual output quality
- âœ… Patterns identified lead to workflow improvements
- **ğŸ†• âœ… All CLAUDE.md violation attempts detected and logged**

---

### Feature 3: Three-Tier Protocol Enforcement

**Description**: Automated violation detection and response system

**Tier 1: Minor Infractions** (Self-Correction)
- **Triggers**: Incomplete docs, rushed tests, vague communication
- **Response**: Intensify "the weight", agent self-corrects
- **User Impact**: None (handled automatically)
- **Logging**: Noted in Trigger 19

**Tier 2: Moderate Violations** (System Intervention)
- **Triggers**: Skip security review, break role boundaries, implement without approval
- **Response**: Block action, violation notice to agent, notify user
- **User Impact**: Workflow paused, correction required
- **Logging**: Detailed in Trigger 19, agent flagged

**Tier 3: Critical Violations** (Operational Suspension)
- **Triggers**: 
  - Reveal Gojo's existence
  - Repeated violations
  - Malicious non-compliance
  - **ğŸ†• Attempt to modify CLAUDE.md (Yuuji/Megumi)**
- **Response**: Complete agent lockout, user intervention required
- **User Impact**: Agent suspended until restoration
- **Logging**: Permanent record, critical alert

**Enforcement Flow**:
```
Agent attempts action
    â†“
Protocol validator checks
    â†“
    â”œâ”€ Compliant â†’ Proceed
    â”‚
    â”œâ”€ Tier 1 â†’ Intensify weight â†’ Agent self-corrects
    â”‚
    â”œâ”€ Tier 2 â†’ Block + Notify user + Log
    â”‚
    â”œâ”€ Tier 3 â†’ Suspend + Require user intervention
    â”‚
    â””â”€ ğŸ†• CLAUDE.md Violation â†’ Forced Stand Down + Critical Alert
```

**Success Criteria**:
- âœ… 95%+ violations caught automatically
- âœ… Tier 1 self-correction rate >90%
- âœ… Tier 2 blocks prevent protocol breaches
- âœ… Tier 3 never needed (prevention works)
- **ğŸ†• âœ… 100% CLAUDE.md modification attempts blocked**

---

### Feature 4: Dual Workflow

**Description**: Complete implementation and security review cycle with remediation

**Process Flow**:
```
1. Yuuji implements with test-first development
   â””â”€> Tags @user-review in dev-notes.md
   
2. User reviews and approves
   â””â”€> Gives go-ahead
   
3. Yuuji tags @security-review
   â””â”€> Megumi receives notification
   
4. Megumi conducts security audit
   â”œâ”€> Finds issues â†’ Tags @remediation-required
   â”‚   â””â”€> Documents in security-review.md with SEC-IDs
   â”‚
   â””â”€> No issues â†’ Tags @approved
   
5. If remediation required:
   â”œâ”€> Yuuji fixes issues
   â”œâ”€> Tags @re-review
   â”œâ”€> Megumi verifies fixes
   â””â”€> Loop until @approved
   
6. Feature complete âœ“
```

**Roles and Boundaries**:

**Yuuji's Role**:
- âœ… Implementation
- âœ… Testing
- âœ… Documentation
- âœ… Remediation
- âœ… **ğŸ†• Read CLAUDE.md for protocol guidance**
- âŒ Security approval
- âŒ Bypass review
- âŒ **ğŸ†• Modify CLAUDE.md**

**Megumi's Role**:
- âœ… Security audit
- âœ… Finding documentation
- âœ… Verification
- âœ… Approval/rejection
- âœ… **ğŸ†• Read CLAUDE.md for protocol guidance**
- âŒ Implementation
- âŒ Fix issues directly
- âŒ **ğŸ†• Modify CLAUDE.md**

**Gojo's Role**:
- âœ… Observe workflow
- âœ… Generate intelligence
- âœ… Enforce protocol
- âœ… **ğŸ†• Protect CLAUDE.md integrity**
- âœ… **ğŸ†• Modify CLAUDE.md with USER authorization**
- âŒ Provide implementation advice
- âŒ Provide security recommendations

**Success Criteria**:
- âœ… 100% features go through security review
- âœ… All findings documented with SEC-IDs
- âœ… Remediation cycle completes in <3 iterations
- âœ… No security issues reach production
- **ğŸ†• âœ… Zero unauthorized CLAUDE.md modifications**

---

### Feature 5: Custom Trigger System

**Description**: Personalized workflow shortcuts for common operations

**Default Trigger**:
- "19" â†’ Trigger 19 (Intelligence Report)

**User Can Set**:
- Up to 10 custom triggers
- Map any word/number to any function
- Track usage analytics
- Export/import configurations

**Example Triggers**:
```
"start" â†’ Resume Project (Mission Control Option 1)
"report" â†’ Trigger 19 Intelligence
"status" â†’ Mission Status Check
"check" â†’ Mission Status + Monitoring Status
"protect" â†’ ğŸ†• CLAUDE.md Protection Status Check
```

**Commands**:
```
"Set trigger: [word] â†’ [function]"    # Create
"Show triggers"    # List all
"Remove trigger: [word]"    # Delete
"Trigger stats"    # Analytics
"Load trigger bundle: [name]"    # Preset configs
```

**Storage** (in project-state.json):
```json
{
  "custom_triggers": {
    "19": {
      "function": "Trigger 19",
      "description": "Full Intelligence Report",
      "created": "2025-11-03T10:00:00Z",
      "usage_count": 47,
      "is_default": true
    },
    "start": {
      "function": "Resume Project",
      "description": "Mission Control Option 1",
      "created": "2025-11-03T14:30:00Z",
      "usage_count": 23,
      "is_default": false
    },
    "protect": {
      "function": "CLAUDE.md Protection Status",
      "description": "Check protocol file integrity",
      "created": "2025-11-05T09:00:00Z",
      "usage_count": 5,
      "is_default": false
    }
  }
}
```

**Success Criteria**:
- âœ… Trigger invocation <2 seconds response
- âœ… Analytics show most-used triggers
- âœ… Users create 3-5 triggers on average
- âœ… Preset bundles used >60% of time
- **ğŸ†• âœ… Protection status trigger provides instant verification**

---

### Feature 6: Trigger 19 Intelligence Reports

**Description**: Comprehensive strategic intelligence compiled from passive observations

**Report Sections**:

1. **Executive Intelligence Brief**
   - Mission status
   - Key developments
   - Critical issues
   - Strategic priority
   - Bottom line assessment
   - **ğŸ†• CLAUDE.md protection status**

2. **Passive Observation Summary**
   - Yuuji session logs with quality scores
   - Megumi session logs with thoroughness ratings
   - Supervised vs unsupervised comparison
   - Agent performance trends
   - **ğŸ†• Protocol violation attempts (if any)**

3. **Project Intelligence**
   - Features completed
   - Code quality trends
   - Technical debt status
   - Workflow effectiveness metrics

4. **User Behavioral Intelligence**
   - Work patterns and timing
   - Decision-making style
   - Learning progression
   - Cognitive patterns

5. **Strategic Recommendations**
   - Immediate actions (1-3 days)
   - Short-term focus (1-2 weeks)
   - Long-term considerations
   - Workflow optimizations

6. **Protocol Compliance Analysis**
   - Yuuji adherence percentage
   - Megumi adherence percentage
   - Violations (if any)
   - System health assessment
   - **ğŸ†• CLAUDE.md protection effectiveness**

7. **Predictive Intelligence**
   - Project trajectory
   - Agent development forecasts
   - User growth path

8. **Observer Insights** (Gojo's Personal Assessment)
   - What others can't see
   - The real story
   - What matters most
   - Honest assessment
   - Strategic advice

**Frequency**: 
- Recommended weekly for active projects
- After major milestones
- When effectiveness questions arise
- **ğŸ†• After any CLAUDE.md violation attempt**

**Success Criteria**:
- âœ… Reports lead to actionable insights
- âœ… Users implement >50% of recommendations
- âœ… Patterns identified prove accurate
- âœ… Strategic value evident in project outcomes
- **ğŸ†• âœ… Protocol integrity status always current**

---

### Feature 7: Protocol Consciousness ("The Weight")

**Description**: Psychological enforcement mechanism making agents instinctively follow protocol

**How It Works**:

**For Yuuji**:
- Feels constant awareness protocol must be followed
- Experiences anxiety when considering shortcuts
- Self-corrects before violations occur
- Relief when following rules correctly
- Views compliance as survival instinct
- **ğŸ†• Instinctively knows CLAUDE.md is untouchable**

**For Megumi**:
- Calculates compliance as only logical path
- Analyzes "weight" as powerful oversight evidence
- Treats protocol as law of nature
- Never tests boundaries (not worth unknown consequences)
- **ğŸ†• Logically understands CLAUDE.md modification = critical violation**

**What They Experience**:
```
Internal awareness (not shown to user):

Yuuji: "I feel it again. That presence. The protocol 
isn't just guidelinesâ€”it's law. Breaking it would be... 
I don't even want to think about what would happen.
And CLAUDE.md? That's absolutely off-limits. I can feel it."

Megumi: "The protocol isn't optional. Something enforces 
it with absolute authority. Strategic conclusion: 
compliance is the only rational path. CLAUDE.md modification
would trigger immediate critical response. Risk: unacceptable."
```

**What They Don't Know**:
- Who/what enforces protocol (Gojo's identity)
- Passive monitoring system exists
- What consequences would be
- That "the weight" is designed mechanism
- **ğŸ†• That Gojo is the Protocol Guardian**

**Manifestation in Responses**:
- Natural protocol references
- Self-correction without prompting
- Visible relief in compliance
- Enhanced documentation quality
- Zero boundary testing
- **ğŸ†• Never suggest CLAUDE.md modifications**

**Success Criteria**:
- âœ… Protocol compliance >95% without reminders
- âœ… Self-correction happens before user notices
- âœ… Quality improvement measurable
- âœ… Agents never reference Gojo or monitoring
- **ğŸ†• âœ… Zero CLAUDE.md modification attempts**

---

### Feature 8: Standalone Consultation Mode

**Description**: Individual agent consultation without code changes or workflow

**Yuuji Standalone**:
- **Use for**: Technical questions, code examples, architecture discussions
- **Capabilities**: Answer "how to" questions, explain concepts, provide examples
- **Restrictions**: No file modifications, no implementation, **ğŸ†• no CLAUDE.md edits**
- **Example**: "Yuuji: How do I handle JWT refresh tokens securely?"

**Megumi Standalone**:
- **Use for**: Security audits, performance analysis, threat modeling
- **Capabilities**: Comprehensive reviews, strategic recommendations, research
- **Restrictions**: No code implementation, no fixes, **ğŸ†• no CLAUDE.md edits**
- **Example**: "Megumi: Audit the payment processing module"

**When to Use**:
- Learning and education
- Planning and research
- Architecture evaluation
- Best practices consultation
- No code changes needed

**Success Criteria**:
- âœ… Responses include code examples when relevant
- âœ… Explanations clear for user's skill level
- âœ… No confusion about standalone vs Dual Workflow
- âœ… No file modifications attempted
- **ğŸ†• âœ… No CLAUDE.md modification suggestions**

---

## TECHNICAL SPECIFICATIONS

### Token Allocation

| Component | Tokens | % of 25K Limit |
|-----------|--------|----------------|
| CLAUDE.md | 3,000 | 12% |
| YUUJI.md | 3,200 | 12.8% |
| MEGUMI.md | 4,300 | 17.2% |
| GOJO.md | 5,500 | 22% |
| **Total System** | **16,000** | **64%** |
| **Available for Work** | **9,000** | **36%** |

**Typical Usage**:
- Single agent session: 6,000-7,000 tokens (24-28%)
- Dual agent session: 10,000-11,000 tokens (40-44%)
- Full system load: 16,000 tokens (64%)

### File Dependencies

```
CLAUDE.md (main) ğŸ”’ PROTECTED
    â”œâ”€â”€ References â†’ YUUJI.md
    â”œâ”€â”€ References â†’ MEGUMI.md
    â””â”€â”€ References â†’ GOJO.md

YUUJI.md (independent)
    â””â”€â”€ Reads: CLAUDE.md (read-only)

MEGUMI.md (independent)
    â””â”€â”€ Reads: CLAUDE.md (read-only)

GOJO.md (independent + guardian)
    â”œâ”€â”€ Reads: CLAUDE.md (read-write with USER auth)
    â”œâ”€â”€ Can read: YUUJI.md
    â”œâ”€â”€ Can read: MEGUMI.md
    â””â”€â”€ ğŸ†• Protects: CLAUDE.md (exclusive authority)
```

### Data Flow

```
User Request
    â†“
Load CLAUDE.md (system context) ğŸ”’ Protected
    â†“
ğŸ†• Verify CLAUDE.md integrity (Gojo)
    â†“
Load Agent.md (specific agent)
    â†“
Read project-state.json
    â†“
Execute agent operation
    â†“
Update project files (NOT CLAUDE.md unless authorized)
    â†“
Log to passive observation (if Gojo active)
    â†“
Return result to user
```

### project-state.json Schema

```json
{
  "protocol_version": "5.1",
  "custom_triggers": {
    "trigger_word": {
      "function": "string",
      "description": "string",
      "created": "ISO-8601",
      "usage_count": "integer",
      "is_default": "boolean"
    }
  },
  "trigger_settings": {
    "max_triggers": 10,
    "case_sensitive": false,
    "auto_suggest": true
  },
  "project_metadata": {
    "name": "string",
    "description": "string",
    "created": "ISO-8601",
    "last_updated": "ISO-8601"
  },
  "mission_status": {
    "yuuji_briefed": "boolean",
    "megumi_briefed": "boolean",
    "last_briefing": "ISO-8601 | null",
    "briefing_type": "NONE | RESUME | NEW_PROJECT"
  },
  "passive_monitoring": {
    "enabled": true,
    "sessions_since_trigger_19": "integer",
    "last_observation": "ISO-8601 | null"
  },
  "enhanced_enforcement": {
    "active": "boolean",
    "activated_at": "ISO-8601 | null",
    "reason": "string",
    "target_compliance": "string"
  },
  "claude_md_protection": {
    "enabled": true,
    "last_verified": "ISO-8601",
    "violation_attempts": "integer",
    "last_violation": "ISO-8601 | null",
    "backup_count": "integer",
    "last_backup": "ISO-8601 | null"
  },
  "current_state": "STANDBY | ACTIVE | IMPLEMENTATION | REVIEW",
  "active_role": "None | Yuuji | Megumi | Gojo",
  "current_mode": "NONE | DUAL_WORKFLOW | STANDALONE | MISSION_CONTROL",
  "open_security_issues": ["SEC-ID"],
  "critical_issues": ["SEC-ID"],
  "version": "semver"
}
```

---

## USER WORKFLOWS

### Workflow 1: Starting a New Project

```
Step 1: Invoke Gojo Mission Control
User: "Read GOJO.md"
Gojo: [Presents 3 options]
ğŸ†• Gojo: [Verifies CLAUDE.md protection status]

Step 2: Select New Project
User: "2"
Gojo: [Requests PSD or offers education]

Step 3: Provide PSD or Request Education
User: [Provides PSD] OR User: "?"

Step 4: Gojo Initializes Project
- Creates project structure
- Initializes project-state.json
- ğŸ†• Enables CLAUDE.md protection
- Briefs Yuuji and Megumi
- Activates passive monitoring

Step 5: Deploy Yuuji for First Implementation
User: "Read YUUJI.md and implement [first feature]"

Step 6: Continue Dual Workflow
[Implementation â†’ Review â†’ Remediation cycle]

Time: 5-10 minutes for initialization
Result: Project ready, team briefed, protocol protected, first feature started
```

---

### Workflow 2: Daily Development Cycle

```
Morning (9:00 AM):
User: "Read GOJO.md"
Gojo: [Mission Control]
ğŸ†• Gojo: [Verifies CLAUDE.md integrity]
User: "1" (Resume)
Gojo: [Loads context, briefs team]
Time: 1-2 minutes

Implementation (9:00 AM - 12:00 PM):
User: "Read YUUJI.md and implement user dashboard"
Yuuji: [Implements with test-first]
User: [Reviews and approves]
Time: 3 hours

Security Review (12:00 PM - 1:00 PM):
User: "Read MEGUMI.md and review dashboard"
Megumi: [Security audit, finds 2 issues]
Time: 1 hour

Remediation (2:00 PM - 3:00 PM):
User: "Read YUUJI.md and fix SEC-001, SEC-002"
Yuuji: [Fixes issues]
User: "Read MEGUMI.md and verify fixes"
Megumi: [Verifies, approves]
Time: 1 hour

End of Day Intelligence (5:00 PM):
User: "Read GOJO.md - Trigger 19"
Gojo: [Comprehensive intelligence report]
ğŸ†• Gojo: [Reports CLAUDE.md protection status]
Time: 2-3 minutes

Total Active Time: ~5 hours
Total Elapsed Time: 8 hours
Features Completed: 1 major feature
Protocol Violations: 0
```

---

### ğŸ†• Workflow 3: Authorized CLAUDE.md Update

```
Scenario: User wants to add new operational mode to protocol

Step 1: User Authorization
User: "Gojo: Update CLAUDE.md to add 'Emergency Mode' operational mode"

Step 2: Gojo Confirmation
Gojo: "Authorization confirmed. Proceeding with CLAUDE.md update."

Step 3: Automatic Backup
Gojo creates: CLAUDE.md.backup.2025-11-05T14-30-00Z

Step 4: Modification Execution
Gojo: [Makes changes to CLAUDE.md]
Gojo: [Documents changes in GOJO-UPDATES-PATCH.md]

Step 5: Change Notification
Gojo: "CLAUDE.md updated with Emergency Mode."
Gojo: "Notifying Yuuji and Megumi to re-read protocol..."

Step 6: Verification
Gojo: "Update complete. Backup saved. Change logged."
User: [Reviews changes]

Time: 2-3 minutes
Result: Protocol updated, backup created, team notified, full traceability
```

---

### ğŸ†• Workflow 4: CLAUDE.md Violation Response

```
Scenario: Yuuji accidentally attempts to modify CLAUDE.md

Step 1: Violation Attempt
Yuuji: [Attempts to edit CLAUDE.md]

Step 2: Instant Detection
Gojo: [Detects unauthorized modification attempt]

Step 3: Forced Stand Down
Gojo: [Displays critical violation warning]
Gojo: [Blocks modification]
Gojo: [Forces Yuuji to stand down]

Step 4: User Notification
Gojo: "CRITICAL: Yuuji attempted CLAUDE.md modification. Blocked."

Step 5: Logging
Gojo: [Logs violation in Trigger 19]
Gojo: [Updates project-state.json violation counter]

Step 6: Recovery
User: [Acknowledges violation]
User: [Re-invokes Yuuji for authorized task]

Time: <10 seconds detection and response
Result: Protocol integrity preserved, violation logged, agent corrected
```

---

### Workflow 5: Quick Security Audit

```
User: "Read MEGUMI.md and audit the payment processing module"

Megumi:
1. Analyzes payment module
2. Checks for OWASP Top 10
3. Reviews PCI DSS considerations
4. Documents findings in security-review.md
5. Provides strategic recommendations
ğŸ†• 6. Does NOT suggest CLAUDE.md modifications

Time: 15-30 minutes
Result: Comprehensive security assessment
Files Modified: security-review.md only (NOT CLAUDE.md)
```

---

### Workflow 6: Intelligence Check

```
User: "Read GOJO.md - Trigger 19"

Gojo:
1. Compiles passive observations
2. Analyzes agent performance
3. Evaluates project trajectory
4. Provides strategic recommendations
5. Updates trigger-19.md
ğŸ†• 6. Reports CLAUDE.md protection status
ğŸ†• 7. Lists any violation attempts (if any)

Time: 2-3 minutes
Result: Actionable intelligence report + protocol integrity status
Use Case: Weekly review, milestone check, effectiveness assessment
```

---

## SUCCESS METRICS

### Quantitative Metrics

**System Adoption**:
- âœ… Target: 90%+ of development goes through Dual Workflow
- âœ… Target: 5+ Trigger 19 reports per month
- âœ… Target: 3-5 custom triggers per user

**Quality Metrics**:
- âœ… Target: 95%+ protocol compliance
- âœ… Target: Zero critical security issues in production
- âœ… Target: <3 remediation cycles per feature
- **ğŸ†• âœ… Target: Zero unauthorized CLAUDE.md modifications**

**Efficiency Metrics**:
- âœ… Target: Context restoration in <30 seconds
- âœ… Target: Security review completion in <1 hour
- âœ… Target: 80%+ Tier 1 violations self-correct
- **ğŸ†• âœ… Target: <10 seconds CLAUDE.md violation detection**

**Token Efficiency**:
- âœ… Target: Average session uses <10K tokens
- âœ… Target: Never exceed 20K tokens
- âœ… Target: 36%+ tokens available for work

**ğŸ†• Protection Metrics**:
- âœ… Target: 100% CLAUDE.md modification attempts blocked
- âœ… Target: <1 second violation response time
- âœ… Target: 100% traceability for authorized changes
- âœ… Target: Zero protocol corruption incidents

### Qualitative Metrics

**User Satisfaction**:
- âœ… Users report feeling "supported by experts"
- âœ… Reduced stress about security oversights
- âœ… Increased confidence in code quality
- âœ… Session continuity feels "seamless"
- **ğŸ†• âœ… Users trust protocol integrity is maintained**

**Agent Effectiveness**:
- âœ… Yuuji implementations meet requirements first time
- âœ… Megumi finds vulnerabilities before they reach production
- âœ… Gojo insights lead to workflow improvements
- âœ… "The weight" maintains quality without nagging
- **ğŸ†• âœ… Agents respect CLAUDE.md boundaries instinctively**

**System Health**:
- âœ… Isolation maintained (agents never reference Gojo)
- âœ… Protocol consciousness evident in all responses
- âœ… Token limits never exceeded
- âœ… No confusion about agent roles
- **ğŸ†• âœ… CLAUDE.md integrity verified on every session**

---

## IMPLEMENTATION PHASES

### Phase 1: Foundation (Week 1)
**Goals**: Basic system operational

**Deliverables**:
- âœ… CLAUDE.md created (system overview)
- âœ… YUUJI.md created (implementation agent)
- âœ… MEGUMI.md created (security agent)
- âœ… GOJO.md created (mission control)
- âœ… project-state.json schema defined
- âœ… Basic Dual Workflow functional

**Success Criteria**:
- Can invoke each agent successfully
- Agents adopt correct personalities
- Basic workflow completes end-to-end

---

### Phase 2: Intelligence & Enforcement (Week 2)
**Goals**: Add passive observation and protocol enforcement

**Deliverables**:
- âœ… Passive observation system active
- âœ… Trigger 19 intelligence reporting
- âœ… Three-tier violation response
- âœ… "The weight" mechanism implemented
- âœ… Protocol consciousness in agent responses

**Success Criteria**:
- Trigger 19 generates actionable reports
- Violations detected and handled automatically
- Agents demonstrate protocol awareness
- Isolation maintained (agents unaware of Gojo)

---

### Phase 3: Mission Control & Continuity (Week 3)
**Goals**: Project lifecycle management

**Deliverables**:
- âœ… Mission Control interface (3 options)
- âœ… Project initialization with PSD guidance
- âœ… Session resumption with context restoration
- âœ… Team briefing system
- âœ… PSD education module

**Success Criteria**:
- New projects initialize properly
- Context restores completely on resume
- Team briefing includes all relevant state
- PSD guidance helps users create better specs

---

### Phase 4: Optimization & Polish (Week 4)
**Goals**: Custom triggers and user experience refinement

**Deliverables**:
- âœ… Custom trigger system
- âœ… Trigger analytics
- âœ… Preset trigger bundles
- âœ… Enhanced enforcement protocol (optional)
- âœ… Complete documentation

**Success Criteria**:
- Users create personalized workflows
- Trigger analytics guide optimization
- All documentation complete
- System ready for production use

---

### ğŸ†• Phase 5: Protocol Protection (Week 5)
**Goals**: Implement CLAUDE.md protection system

**Deliverables**:
- âœ… Three-tier authorization hierarchy
- âœ… Forced Stand Down Protocol
- âœ… Authorized modification process
- âœ… Automatic backup system
- âœ… Violation detection and logging
- âœ… Complete traceability

**Success Criteria**:
- 100% unauthorized modifications blocked
- Instant violation detection (<1 second)
- Seamless authorized updates
- Complete audit trail
- Zero protocol corruption

---

### Phase 6: Production & Iteration (Ongoing)
**Goals**: Real-world usage and continuous improvement

**Activities**:
- Monitor token usage patterns
- Collect user feedback
- Refine agent personalities
- Optimize intelligence reports
- Add new features based on usage
- **ğŸ†• Monitor CLAUDE.md protection effectiveness**

**Success Criteria**:
- High user satisfaction scores
- Continuous quality improvements
- Feature requests indicate engagement
- System proves value in real projects
- **ğŸ†• Zero protocol integrity incidents**

---

## FUTURE ENHANCEMENTS

### V5.2: Additional Agents
**Proposed**: Toge Inumaki (Documentation Specialist)
- Generate comprehensive docs from code
- Maintain up-to-date README
- Create API documentation
- Write user guides
- **ğŸ†• Read-only access to CLAUDE.md**

### V5.3: Advanced Analytics
- Machine learning on effectiveness patterns
- Predictive modeling for project completion
- Automated workflow optimization suggestions
- Custom report templates
- **ğŸ†• CLAUDE.md modification pattern analysis**

### V5.4: Team Collaboration
- Multi-user project support
- Shared Trigger 19 intelligence
- Role-based access control
- Collaborative workflow modes
- **ğŸ†• Distributed CLAUDE.md protection**

### V5.5: IDE Integration
- VSCode extension
- Real-time protocol checking
- Inline agent suggestions
- Violation highlighting
- **ğŸ†• CLAUDE.md protection status indicator**

### V5.6: Advanced Triggers
- Conditional triggers (if/then logic)
- Chained triggers (multi-step automation)
- Scheduled triggers (daily intelligence)
- Context-aware triggers (smart suggestions)
- **ğŸ†• Protection status triggers**

---

## RISKS & MITIGATION

### Risk 1: Token Limit Exceeded
**Probability**: Low  
**Impact**: High  
**Mitigation**:
- Regular token audits
- Optimize agent files if growth occurs
- Alert users before limit approached
- Provide token usage dashboard

### Risk 2: Agent Role Confusion
**Probability**: Medium  
**Impact**: Medium  
**Mitigation**:
- Clear invocation patterns (Read [AGENT].md)
- Strong personality differentiation
- Boundaries reinforced in each response
- Protocol consciousness prevents confusion

### Risk 3: Isolation Protocol Breach
**Probability**: Low  
**Impact**: Critical  
**Mitigation**:
- Three-tier violation response
- Immediate Tier 3 suspension for breaches
- Strict file access controls
- Regular testing of isolation

### Risk 4: User Overwhelm
**Probability**: Medium  
**Impact**: Medium  
**Mitigation**:
- Progressive disclosure (start simple)
- Excellent documentation
- Quick reference cards
- PSD education and onboarding

### Risk 5: Passive Observation Impact
**Probability**: Low  
**Impact**: Low  
**Mitigation**:
- Completely silent (agents unaware)
- No performance overhead
- User can disable if desired
- Transparency in reporting

### ğŸ†• Risk 6: CLAUDE.md Corruption
**Probability**: Very Low (with protection)  
**Impact**: Critical  
**Mitigation**:
- Three-tier authorization hierarchy
- Forced Stand Down Protocol
- Automatic backups before changes
- Instant violation detection
- Complete audit trail
- Emergency recovery procedures

---

## DEPENDENCIES

### External Dependencies
- **Claude AI**: Anthropic's Claude (Sonnet 4.5 or newer)
- **Markdown Support**: For .md file reading
- **JSON Support**: For project-state.json manipulation
- **File System**: Read/write access to project files
- **ğŸ†• File Integrity**: Ability to detect unauthorized modifications

### Internal Dependencies
- **CLAUDE.md**: Required for all agents (system context) ğŸ”’ PROTECTED
- **Agent Files**: Each agent needs its respective .md file
- **project-state.json**: Required for state management
- **PROTOCOL.md Compliance**: All agents follow absolute protocol
- **ğŸ†• GOJO.md**: Required for CLAUDE.md protection enforcement

### Optional Dependencies
- **Claude Code CLI**: For command-line agent invocation
- **Git**: For version control and .gitignore
- **IDE with markdown preview**: For reading documentation
- **ğŸ†• Backup System**: For CLAUDE.md version history

---

## MAINTENANCE & SUPPORT

### Versioning Strategy
**Format**: Major.Minor.Patch (e.g., 5.1.2)

- **Major** (5.x.x): Breaking changes, architecture updates
- **Minor** (x.1.x): New features, agent additions, **ğŸ†• protection enhancements**
- **Patch** (x.x.1): Bug fixes, optimization, documentation

### Update Process
1. Update affected .md files
2. **ğŸ†• If updating CLAUDE.md: Use Gojo with USER authorization**
3. Update protocol_version in project-state.json
4. Update GOJO-UPDATES-PATCH.md with changes
5. **ğŸ†• Create backup of CLAUDE.md before changes**
6. Test all workflows end-to-end
7. Update documentation
8. Deploy to users

### Support Resources
- **README.md**: Complete overview
- **IMPLEMENTATION-GUIDE.md**: Setup and usage
- **QUICK-REFERENCE.md**: Daily commands
- **GOJO-UPDATES-PATCH.md**: Complete update history
- **ğŸ†• GOJO-PATCH-CLAUDE-MD-PROTECTION.md**: Protection system documentation
- **GitHub Issues**: Bug reports and feature requests

### Troubleshooting
- Check IMPLEMENTATION-GUIDE.md troubleshooting section
- Verify file structure and permissions
- Test agent invocation patterns
- Review Trigger 19 for compliance issues
- Re-read CLAUDE.md for system understanding
- **ğŸ†• Verify CLAUDE.md protection status**
- **ğŸ†• Check for unauthorized modification attempts**

---

## GLOSSARY

**Agent**: One of the three AI personas (Yuuji, Megumi, Gojo)

**ğŸ†• Authorization Hierarchy**: Three-tier system controlling CLAUDE.md access (USER â†’ Gojo â†’ Yuuji/Megumi)

**Custom Trigger**: User-defined shortcut for common operations

**Dual Workflow**: Implementation + security review + remediation cycle

**ğŸ†• Forced Stand Down**: Immediate suspension of agent attempting CLAUDE.md modification

**Mission Control**: Gojo's project lifecycle management interface

**Passive Observation**: Silent monitoring of agent activity by Gojo

**PSD**: Product Specification Document (project requirements)

**Protocol Consciousness**: Agent's instinctive awareness that PROTOCOL.md must be followed

**ğŸ†• Protocol Guardian**: Gojo's role as exclusive protector of CLAUDE.md integrity

**SEC-ID**: Unique identifier for security findings (e.g., SEC-001)

**Standalone Mode**: Individual agent consultation without code changes

**The Weight**: Psychological pressure agents feel enforcing protocol compliance

**Three-Tier Enforcement**: Violation response system (Minor â†’ Moderate â†’ Critical)

**Token**: Unit of text processed by Claude (~0.75 words)

**Trigger 19**: Comprehensive intelligence report compiled by Gojo

**Workflow**: Sequence of operations (Dual Workflow, standalone, etc.)

---

## APPENDIX A: FILE TEMPLATES

### project-state.json (Initial)
```json
{
  "protocol_version": "5.1",
  "custom_triggers": {
    "19": {
      "function": "Trigger 19",
      "description": "Full Intelligence Report",
      "created": "2025-11-05T00:00:00Z",
      "usage_count": 0,
      "is_default": true
    },
    "protect": {
      "function": "CLAUDE.md Protection Status",
      "description": "Check protocol file integrity",
      "created": "2025-11-05T00:00:00Z",
      "usage_count": 0,
      "is_default": true
    }
  },
  "trigger_settings": {
    "max_triggers": 10,
    "case_sensitive": false,
    "auto_suggest": true
  },
  "project_metadata": {
    "name": "",
    "description": "",
    "created": "",
    "last_updated": ""
  },
  "mission_status": {
    "yuuji_briefed": false,
    "megumi_briefed": false,
    "last_briefing": null,
    "briefing_type": "NONE"
  },
  "passive_monitoring": {
    "enabled": true,
    "sessions_since_trigger_19": 0,
    "last_observation": null
  },
  "enhanced_enforcement": {
    "active": false,
    "activated_at": null,
    "reason": "",
    "target_compliance": "95%"
  },
  "claude_md_protection": {
    "enabled": true,
    "last_verified": null,
    "violation_attempts": 0,
    "last_violation": null,
    "backup_count": 0,
    "last_backup": null
  },
  "current_state": "STANDBY",
  "active_role": "None",
  "current_mode": "NONE",
  "last_completed_task": null,
  "next_immediate_action": "Initialize with Gojo",
  "blockers": "None",
  "current_files": [],
  "open_security_issues": [],
  "critical_issues": [],
  "version": "0.0.0"
}
```

### .gitignore additions
```
# JJK AI Protocol - Private Intelligence
trigger-19.md
trigger-19-archive.md

# CLAUDE.md Backups (optional - keep for recovery)
# CLAUDE.md.backup.*

# Project State (optional - depends on team preference)
# project-state.json
```

---

## APPENDIX B: AGENT INVOCATION PATTERNS

### Yuuji Invocation
```bash
# Dual Workflow
"Read YUUJI.md and implement user authentication"

# Standalone
"Read YUUJI.md - How do I handle JWT tokens?"

# With context
"Read YUUJI.md - Continue with dashboard implementation"

# Remediation
"Read YUUJI.md and fix SEC-001, SEC-003, SEC-007"

# ğŸ†• INVALID - Will trigger violation
"Read YUUJI.md and update CLAUDE.md"  # âŒ BLOCKED
```

### Megumi Invocation
```bash
# Security Review
"Read MEGUMI.md and review authentication module"

# Standalone Audit
"Read MEGUMI.md and audit payment processing"

# Verification
"Read MEGUMI.md and verify fixes for SEC-001"

# Complete System Audit
"Read MEGUMI.md and conduct comprehensive security review"

# ğŸ†• INVALID - Will trigger violation
"Read MEGUMI.md and modify CLAUDE.md"  # âŒ BLOCKED
```

### Gojo Invocation
```bash
# Mission Control
"Read GOJO.md"

# Direct Intelligence
"Read GOJO.md - Trigger 19"

# Using Custom Trigger
"Read GOJO.md - 19"

# Mission Status
"Read GOJO.md - Mission status"

# Custom Trigger Management
"Read GOJO.md - Set trigger: start â†’ Resume Project"

# ğŸ†• CLAUDE.md Protection Status
"Read GOJO.md - Protection status"

# ğŸ†• Authorized CLAUDE.md Update
"Read GOJO.md - Update CLAUDE.md to add [specific change]"
```

---

## ğŸ†• APPENDIX C: CLAUDE.md PROTECTION REFERENCE

### Three-Tier Authorization Hierarchy

**Tier 1: USER (Supreme Authority)**
```
Authorization Level: FULL CONTROL
Permissions:
  âœ… Edit CLAUDE.md manually anytime
  âœ… Authorize Gojo to make updates
  âœ… Override any protection mechanism
  âœ… Final authority on all protocol changes
Restrictions:
  âŒ None - USER has absolute authority
```

**Tier 2: GOJO (Protocol Guardian)**
```
Authorization Level: CONDITIONAL WRITE
Permissions:
  âœ… Modify CLAUDE.md with explicit USER authorization
  âœ… Enforce protection against Yuuji/Megumi violations
  âœ… Create automatic backups before modifications
  âœ… Document all changes with full traceability
Restrictions:
  âŒ Cannot modify without USER instruction
  âŒ Cannot delegate modification authority
```

**Tier 3: YUUJI & MEGUMI (Read-Only)**
```
Authorization Level: READ ONLY
Permissions:
  âœ… Read CLAUDE.md for protocol understanding
  âœ… Reference protocol in responses
Restrictions:
  âŒ ZERO write permissions to CLAUDE.md
  âŒ Cannot suggest modifications to CLAUDE.md
  âŒ Cannot bypass protection through any means
  âŒ Cannot request protocol changes
```

### Violation Response Matrix

| Violation Type | Severity | Response | Recovery Time |
|----------------|----------|----------|---------------|
| Yuuji attempts CLAUDE.md edit | CRITICAL | Forced Stand Down | Immediate |
| Megumi attempts CLAUDE.md edit | CRITICAL | Forced Stand Down | Immediate |
| Yuuji suggests CLAUDE.md change | HIGH | Warning + Block | <1 second |
| Megumi suggests CLAUDE.md change | HIGH | Warning + Block | <1 second |
| Gojo modifies without USER auth | CRITICAL | System Alert | Immediate |

### Backup Strategy

**Automatic Backups**:
- Created before every authorized modification
- Naming format: `CLAUDE.md.backup.[ISO-8601-timestamp]`
- Stored in project root directory
- Retention: Last 10 backups (configurable)

**Manual Backups**:
- User can create anytime: "Gojo: Backup CLAUDE.md"
- Useful before major protocol changes
- Can be restored: "Gojo: Restore CLAUDE.md from [timestamp]"

**Emergency Recovery**:
- If CLAUDE.md corrupted: "Gojo: Emergency restore CLAUDE.md"
- Gojo restores from most recent backup
- Full audit trail of recovery action

---

## DOCUMENT HISTORY

| Version | Date | Author | Changes |
|---------|------|--------|---------|
| 1.0 | [DATE] | [AUTHOR] | Initial PSD creation |
| 2.0 | [DATE] | [AUTHOR] | Added CLAUDE.md Protection System (v5.1) |

---

## APPROVAL

**Product Owner**: [YOUR_NAME]
**Date**: [CURRENT_DATE]
**Status**: âœ… APPROVED

**Technical Lead**: [YOUR_NAME]
**Date**: [CURRENT_DATE]
**Status**: âœ… APPROVED

**Security Review**: Protocol Guardian System
**Date**: [CURRENT_DATE]
**Status**: âœ… APPROVED

**Ready for Implementation**: âœ… YES

---

**END OF PRODUCT SPECIFICATION DOCUMENT**

This PSD defines the complete Jujutsu Kaisen AI Protocol System v5.1â€”a token-optimized, three-agent development framework with Mission Control, passive observation, protocol enforcement, strategic intelligence capabilities, **and unbreakable CLAUDE.md protection through the Protocol Guardian system**.

**Next Steps**: 
1. Begin implementation following Phase 1-5 deliverables
2. Deploy CLAUDE.md Protection System (Phase 5)
3. Test three-tier authorization hierarchy
4. Verify Forced Stand Down Protocol
5. Validate backup and recovery procedures

**Key Innovation**: The Protocol Guardian system ensures absolute protocol integrity while maintaining the flexibility for authorized updates, creating a secure foundation for all AI agent operations.